<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embedded Scratch Project and YouTube Video with Help Sidebar</title>
    <style>
        body {
            font-family: 'Google Sans', Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: #202124;
            background-color: #ffffff;
        }

        h1 {
            font-size: 2em;
            margin: 20px;
            font-weight: 400;
            color: #1a73e8;
        }

        h2 {
            font-size: 1.5em;
            margin: 20px;
            font-weight: 400;
            color: #1a73e8;
        }

        p {
            margin: 20px;
            line-height: 1.6;
            font-size: 1.1em;
            color: #202124;
        }

        ul {
            margin: 20px;
            padding-left: 40px;
            line-height: 1.6;
            font-size: 1.1em;
        }

        a {
            color: #1a73e8;
            text-decoration: none;
            font-size: 1.1em;
        }

        a:hover {
            text-decoration: underline;
        }

        iframe, img {
            max-width: 100%;
            height: auto;
            margin: 20px auto;
            display: block;
            border-radius: 8px;
        }

        embed {
            max-width: 100%;
            height: auto;
            margin: 20px auto;
            display: block;
            border-radius: 8px;
        }

        .help-button {
            position: fixed;
            right: 0;
            width: 200px;
            height: 20%;
            padding: 15px;
            background-color: #1a73e8;
            color: white;
            font-size: 1em;
            cursor: pointer;
            border: none;
            text-align: left;
            transition: background-color 0.3s;
            z-index: 1001;
            border-radius: 8px 0 0 8px;
        }

        .help-button:hover {
            background-color: #1558b2;
        }

        #button1 { top: 0; }
        #button2 { top: 20%; }
        #button3 { top: 40%; }
        #button4 { top: 60%; }
        #button5 { top: 80%; }

        .sidebar {
            height: 100%;
            width: 0;
            position: fixed;
            right: 0;
            top: 0;
            background-color: #333333;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
            color: #ffffff;
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar-content {
            padding: 20px;
            font-size: 1.1em;
            color: #f1f1f1;
        }

        .closebtn {
            position: absolute;
            top: 0;
            left: 25px;
            font-size: 36px;
            color: #ffffff;
            cursor: pointer;
        }

        #wordCloud {
            width: 100%;
            max-width: 600px;
            display: block;
            margin: 20px auto;
            border-radius: 8px;
        }

        .input-container {
            display: flex;
            justify-content: center;
            margin: 20px;
        }

        .text-input {
            width: 400px;
            height: 40px;
            padding: 10px;
            border: 2px solid #dadce0;
            border-radius: 24px;
            font-size: 1em;
            outline: none;
            transition: border-color 0.2s;
        }

        .text-input:focus {
            border-color: #1a73e8;
        }

        .submit-button {
            margin-left: 10px;
            width: 100px;
            height: 40px;
            background-color: #1a73e8;
            color: white;
            font-size: 1em;
            border: none;
            border-radius: 24px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .submit-button:hover {
            background-color: #1558b2;
        }

        .small-icon {
            width: 24px;
            height: 24px;
        }

        .project-image {
            width: 100%;
            max-width: 400px;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 8px;
        }
    </style>
</head>

<body>
    <h1>Let's make a robot that can SPIN. It's a simple job, but you can use it to do a lot!</h1>
    
    <iframe src="https://scratch.mit.edu/projects/1058042423/embed" allowtransparency="true" frameborder="0" scrolling="no" allowfullscreen></iframe>

    <p><strong>Imagine you work on a farm.</strong> A job you might have to do over and over again is dig holes. There is A LOT of hole digging that needs to happen on a farm.</p>
    <p>It's hard work, but the same job every time. Let's automate it!</p>

    <p><strong>Learning intentions for this activity card:</strong></p>
    <ul>
        <li>I can build a robot that can spin its motor (to dig).</li>
        <li>I can code a lego robot to spin its motor.</li>
        <li>I can make our bare-mini-bot better.</li>
    </ul>
    <p><strong>We want your ideas! Help us build a word cloud.</strong> Let’s talk about goals</p>
    <p>Why might a robot that digs help on a farm? Enter your responses into the text box below and contribute to GTAC's hole digger word cloud!</p>
    
    <img id="wordCloud" src="" alt="Word Cloud will appear here">

    <div class="input-container">
        <input type="text" class="text-input" placeholder="Type your idea...">
        <button class="submit-button">Submit</button>
    </div>

    <h2>Part two: Let’s code to spin our Scratch sprite</h2>
    <p><strong>If you can spin a Scratch sprite, you can spin a lego motor.</strong> Block code can be used to spin a picture of a cat, or to spin the axel of a motor.</p>
    <p>It's pretty much the same code. If you can spin a car, and a lego motor, you can code a robot that'll dig a hole.</p>

    <iframe width="1200" height="800" src="https://www.youtube.com/embed/OchxUJBnOTs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
    
    <p>Watch this video to see how you can incorporate spinning into your scratch model.</p>
    <p>The code you need is just the six blocks in the image below. Click the link below to try it for yourself.</p>

    <p><a href="https://scratch.mit.edu/projects/1058042423/editor/" target="_blank">https://scratch.mit.edu/projects/1058042423/editor/</a></p>

    <img src="diggerscratch.png" alt="Scratch Tutorial Image">

    <h2>Part 3: Let’s build our bot</h2>
    <p>Now that you’ve coded the spinning action, it’s time to bring your robot to life! Follow the instructions in the PDF below to build your digging robot, then we can upload the code.</p>

    <embed src="Digger.pdf" type="application/pdf">

    <p><a href="Digger.llsp3" download="Digger.llsp3">Download Spike Prime Code: Digger.llsp3</a></p>
    <p>After building your bot, plug the motor into port A. Next download the code file above and then open the following page, <a href="https://spike.legoeducation.com/prime/project" target="_blank">https://spike.legoeducation.com/prime/project</a>, input the code, and upload it to the digger bot.</p>

    <img src="diggerlego.png" alt="Digger Lego Image">

    <button id="button2" class="help-button" onclick="openSidebar('uploadCode')">HELP: Uploading code to LEGO Spike Robot</button>
    <button id="button3" class="help-button" onclick="openSidebar('codingLego')">HELP: Coding in LEGO Spike</button>
    <button id="button1" class="help-button" onclick="openSidebar('codingScratch')">HELP: Coding in Scratch</button>
    <button id="button4" class="help-button" onclick="openSidebar('pluggingMotors')">HELP: Lights, sensors and motors - how can we use them?</button>
    <button id="button5" class="help-button" onclick="openSidebar('legoProjects')">HELP: LEGO Spike Projects like this one</button>

    <div id="codingScratch" class="sidebar">
        <span class="closebtn" onclick="closeSidebar('codingScratch')">&times;</span>
        <div class="sidebar-content">
            <h2>Coding in Scratch</h2>
            <p>Instructions and tips for coding in Scratch...</p>
        </div>
    </div>

    <div id="uploadCode" class="sidebar">
        <span class="closebtn" onclick="closeSidebar('uploadCode')">&times;</span>
        <div class="sidebar-content">
            <h2>Uploading Code to LEGO Spike Robot</h2>
            <p>Instructions for uploading code to your LEGO Spike Robot...</p>
            <p><strong>Download:</strong> <a href="Digger.llsp3" download="Digger.llsp3">Download Spike Prime Code: Digger.llsp3</a></p>
            <p><strong>Navigate to:</strong> <a href="https://spike.legoeducation.com/prime/lobby/" target="_blank">https://spike.legoeducation.com/prime/lobby/</a></p>
            <p><strong>Select Open Project:</strong> <img src="https://spike.legoeducation.com/icons/48/FolderMedium.svg" alt="Open Project Icon" class="small-icon"></p>
            <img src="openproj.JPG" alt="Open Project Image">
            <p>Then open the file you downloaded earlier and follow the on-screen instructions to upload it to your LEGO Spike Robot.</p>
        </div>
    </div>

    <div id="codingLego" class="sidebar">
        <span class="closebtn" onclick="closeSidebar('codingLego')">&times;</span>
        <div class="sidebar-content">
            <h2>Coding in LEGO Spike</h2>
            <p>Instructions and tips for coding in LEGO Spike...</p>
            <img src="codeblocks.JPG" alt="Codeblocks Image">
            <p><strong>Navigate to:</strong> <a href="https://spike.legoeducation.com/prime/help/lls-help-word-blocks#lls-help-word-blocks" target="_blank">https://spike.legoeducation.com/prime/help/lls-help-word-blocks#lls-help-word-blocks</a></p>
        </div>
    </div>

    <div id="pluggingMotors" class="sidebar">
        <span class="closebtn" onclick="closeSidebar('pluggingMotors')">&times;</span>
        <div class="sidebar-content">
            <h2>Lights, sensors and motors - how can we use them?</h2>
            <p>Guide on how to use lights, sensors, and motors with your LEGO Spike Robot...</p>
            <p>Navigate to this link: <a href="https://spike.legoeducation.com/prime/start/" target="_blank" style="color: lightblue;">https://spike.legoeducation.com/prime/start/</a></p>
            <img src="tutorials.JPG" alt="Tutorials Image">
        </div>
    </div>

    <div id="legoProjects" class="sidebar">
        <span class="closebtn" onclick="closeSidebar('legoProjects')">&times;</span>
        <div class="sidebar-content">
            <h2>LEGO Spike Projects like this one</h2>
            <p>Explore more LEGO Spike projects similar to this one:</p>

            <h3>The Thing</h3>
            <a href="https://spike.legoeducation.com/prime/models/blt7907b1b20c39c7d3" target="_blank">
                <img src="https://spike.legoeducation.com/content/v3/assets/blt293eea581807678a/blt0f794ee199aaa707/5ec6d1d2e014445192ea3f88/lesson-header-bi.png" alt="The Thing Project Image" class="project-image">
            </a>

            <h3>Leo the Trainer</h3>
            <a href="https://spike.legoeducation.com/prime/models/blta68b76b4db027067" target="_blank">
                <img src="https://spike.legoeducation.com/content/v3/assets/blt293eea581807678a/blt07d51a0b5fb99538/5ec6d1dd1df2000f9ba95c9e/lesson-header-bi.png" alt="Leo the Trainer Project Image" class="project-image">
            </a>
        </div>
    </div>

    <script>
        function closeAllSidebars() {
            var sidebars = document.querySelectorAll('.sidebar');
            sidebars.forEach(function(sidebar) {
                sidebar.style.width = '0';
            });
        }

        function openSidebar(id) {
            closeAllSidebars();
            var sidebar = document.getElementById(id);
            sidebar.style.width = "70%";
            sidebar.scrollTop = 0;
        }

        function closeSidebar(id) {
            document.getElementById(id).style.width = "0";
        }

        async function generateWordCloud() {
            try {
                const githubUrl = 'https://gtacaus.github.io/legobots/wordcloud.txt';
                const response = await fetch(githubUrl);

                if (!response.ok) {
                    throw new Error('Failed to fetch the text content');
                }

                const article = await response.text();

                const wordCloudResponse = await fetch('https://quickchart.io/wordcloud', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        format: 'png',
                        width: 600,
                        height: 400,
                        fontScale: 15,
                        scale: 'linear',
                        removeStopwords: true,
                        minWordLength: 4,
                        text: article
                    })
                });

                if (!wordCloudResponse.ok) {
                    throw new Error('Failed to generate word cloud');
                }

                const wordCloudBlob = await wordCloudResponse.blob();
                const wordCloudUrl = URL.createObjectURL(wordCloudBlob);

                document.getElementById('wordCloud').src = wordCloudUrl;

            } catch (error) {
                console.error('Error:', error);
                document.getElementById('wordCloud').alt = 'Failed to load word cloud';
            }
        }

        generateWordCloud();
    </script>

</body>

</html>
